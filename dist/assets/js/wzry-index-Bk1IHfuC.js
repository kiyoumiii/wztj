import{aT as I,aU as L,I as w,m as b,n as A,aL as N,aV as E,J as H,k as T,p as U}from"./wzry-index-CXWpIXXI.js";import{l as $,_ as h,$ as C,r as y,C as D,E as i,F as r,M as k,u as c,O as F,I as p,J as m,G as O,H as P,S as q}from"./wzry-wzry_vue-BxQEaZ6z.js";const x={ref:"selectBox",class:"select-box"},J=["onMousedown"],K={class:"item"},z=$({__name:"index",props:h({disabled:{type:Boolean,default:!1},type:{default:"ALL"},empty:{type:Boolean,default:!0},placeholder:{default:"皮肤/英雄"},black:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:h(["change"],["update:modelValue"]),setup(v,{emit:S}){const n=v,f=S,l=C(v,"modelValue"),{playAudio:V}=T();let t=[];const d=y(!1),u=y([]),M=()=>{d.value=!0,u.value=t,l.value&&_()},g=()=>{d.value=!1},_=()=>{u.value=E(H(t),l.value,"value")},B=e=>{e==="全部"?(l.value="",f("change","")):(l.value=e,f("change",e)),V()};return D(async()=>{const e=(await I()).map(s=>s.value),o=(await L()).map(s=>s.value);let a=[];n.type==="ALL"?a=[...e,...o]:n.type==="HERO"?a=e:n.type==="SKIN"&&(a=o),t=w([...new Set(a)].map(s=>({label:s,value:s}))),n.empty&&t.unshift({label:"全部",value:"全部"}),u.value=t}),(e,o)=>(i(),r("div",{class:m(["select-hero-and-skin",{black:e.black}])},[k((i(),r("div",x,[F(N,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),class:"k-input",placeholder:l.value||e.placeholder,required:!1,disabled:e.disabled,onInput:_,onFocus:M,onBlur:g},null,8,["modelValue","placeholder","disabled"]),p("div",{class:m(["arrow",{rotate:d.value}])},null,2)])),[[c(b),{text:e.disabled?"":c(A).kb43,type:"INPUT",disabled:e.disabled}]]),p("div",{class:m(["select-list",{retract:!d.value||e.disabled}])},[(i(!0),r(O,null,P(u.value,a=>k((i(),r("div",{key:a.label,class:"box",onMousedown:s=>B(a.value)},[p("div",K,q(a.value),1)],40,J)),[[c(b)]])),128))],2)],2))}}),j=U(z,[["__scopeId","data-v-42d581e5"]]);export{j as S};
