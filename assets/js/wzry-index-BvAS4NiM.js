import{l as B,r as b,c as K,M as V,u as e,E as _,F as T,I as h,S as R,T as P,X as te,J as oe,O as a,f as se,a as ae,C as ne,y as re,Q as I,U as ie,P as A,W as le,G as ce,H as de,L as pe}from"./wzry-wzry_vue-BxQEaZ6z.js";import{s as D}from"./wzry-wzry_vuePlugin-CVcqpH4P.js";import{Y as ue,aG as F,aH as me,m as U,n as z,aD as he,g as _e,s as ve,aI as fe,aJ as ye,p as G,aC as O,aK as g,aL as ge,aM as Te,aN as xe,x as ke,ad as be,k as Se,aO as Le}from"./wzry-index-Uq5ghgDZ.js";import{v as Ce}from"./wzry-sweep-light-kDX43eZR.js";import{F as $e,K as we}from"./wzry-index-BPj1L2tm.js";import{u as He}from"./wzry-index.vue_vue_type_style_index_0_scoped_308049e9_lang-CIECVXAO.js";import{F as Me}from"./wzry-index-BwGvXu5k.js";import{L as Ve}from"./wzry-index-BsFbf2g2.js";import"./wzry-wzry_axios-C_xhNtcK.js";import"./wzry-wzry_dayjs-RHYc_Oz-.js";import"./wzry-wzry_lodash-BosuxZz1.js";import"./wzry-wzry_pinyin_pro-CKM55ih0.js";import"./wzry-wzry_i18n-DZ3KhxG4.js";import"./wzry-wzry_vueuse-CaHOeI9T.js";const Ee={mounted(p){const r=document.createElement("div"),i=document.createElement("div");r.innerHTML=p.innerHTML,r.style.cssText=`
      z-index: 9;
      position: absolute;
      top: 0;
      left: 0;
      color: #fff;
      background-color: #000;
      transition: all 0.35s;
      text-shadow: initial;
      -webkit-background-clip: text;
      clip-path: circle(75% at 50% 50%);
    `;const c=p.offsetHeight/8;i.style.cssText=`
      z-index: 9;
      position: absolute;
      width: 0%;
      height: ${c/16}rem;
      bottom: 0;
      color: transparent;
      background-color: #2980b9;
      transition: all 0.35s;
      left: 50%;
      transform: translate(-50%,5px);
      border-radius: ${c/16}rem;
    `,p.appendChild(r),p.appendChild(i),p.addEventListener("mouseenter",()=>{r.style.clipPath="circle(0% at 50% 50%)",i.style.width="100%"}),p.addEventListener("mouseleave",()=>{r.style.clipPath="circle(75% at 50% 50%)",i.style.width="0%"})}},Ne={class:"hero-card"},Ie={class:"id"},Pe={key:0,class:"num"},Be={class:"select-mask"},Fe=["src"],Ge=["src"],Ke={class:"bottom"},Re=["innerHTML"],Ae=B({__name:"index",props:{data:{}},emits:["view"],setup(p,{emit:r}){const i=ue(),c=r,l=F(),x=b(!1),v=K(()=>l.misc_sort),S=K(()=>["身高","皮肤数量","关系数量"].includes(v.value)),L=t=>{const n=v.value;return{身高:t.height+"cm",皮肤数量:(t.skinCount||0)+"款",关系数量:(t.relationCount||0)+"位"}[n]||""},f=t=>{ye(t)&&c("view",t)};return(t,n)=>{var d;return V((_(),T("div",Ne,[h("span",Ie,"No."+R(t.data.id),1),S.value?(_(),T("span",Pe,R(L(t.data)),1)):P("",!0),h("div",Be,[h("img",{src:x.value?t.data.avatar:e(_e)("unknown"),class:"head",onClick:n[0]||(n[0]=u=>f(t.data.id)),onLoad:n[1]||(n[1]=u=>x.value=!0)},null,40,Fe),V((_(),T("button",{class:"view",onClick:n[2]||(n[2]=u=>f(t.data.id))},n[3]||(n[3]=[te("点击此处")]))),[[e(Ee)]])]),h("div",{class:oe(["bg-box",{have:e(i).hero_list[t.data.id]}])},[V(h("img",{class:"bg",src:t.data.coverBlur},null,8,Ge),[[e(ve),{img:t.data.cover}]])],2),h("div",Ke,[h("div",{class:"name",innerHTML:t.data.name},null,8,Re),a(e(fe),{class:"hero-exp",exp:(d=e(i).hero_list[t.data.id])==null?void 0:d.exp},null,8,["exp"])])])),[[e(me),{color:"#000"}],[e(Ce),{enable:!!e(i).hero_list[t.data.id]}],[e(U),{disabled:!e(i).hero_list[t.data.id],text:e(i).hero_list[t.data.id]?e(z).kr17:e(he)("a20t",{v:"英雄"})}]])}}}),De=G(Ae,[["__scopeId","data-v-9edf4f26"]]),Ue={class:"hero-toolbar"},ze={class:"filter-select"},Oe=B({__name:"index",emits:["change"],setup(p,{expose:r,emit:i}){const c=i,l=F(),{sort_type:x,attr_type:v,camp_type:S,misc_type:L,misc_sort:f,have_type:t,exp_type:n,gender_type:d}=D(l),u=["全部属性","非硬控","免控","回血","真伤"],C=["全部筛选","团控","无蓝条","非人类","多套技能"],$=["全部排序","身高","上手难度","皮肤数量","关系数量"],w=["全部英雄","未拥有","已拥有"],H=["全部熟练度","由低到高","由高到低"],s=["正序","倒序"],y=b(""),k=se([]);(async()=>{(await Te()).forEach(o=>{k.push(o.value)})})();const m=()=>{y.value="",c("change")},j=o=>{l.filterCamp(k[o]),m()},J=o=>{l.filterAttr(u[o]),m()},q=o=>{l.filterMisc(C[o]),m()},Q=o=>{l.sortMisc($[o]),m()},W=o=>{l.haveType(w[o]),m()},X=o=>{l.expType(H[o]),m()},Y=o=>{l.sortType(s[o]),m()},Z=o=>{l.filterGender(o),m()},ee=O(()=>{l.searchHero(y.value),c("change")},500);return r({_clearName:m}),(o,M)=>(_(),T("div",Ue,[h("div",ze,[a(e(g),{"min-width":"9.6106rem","sort-text":e(S),options:k,"list-height":"26.5625rem",onSelect:j},null,8,["sort-text","options"]),a(e(g),{"sort-text":e(v),options:u,onSelect:J},null,8,["sort-text"]),a(e(g),{"sort-text":e(L),options:C,onSelect:q},null,8,["sort-text"]),a(e(g),{"sort-text":e(f),options:$,onSelect:Q},null,8,["sort-text"]),a(e(g),{"sort-text":e(n),options:H,onSelect:X},null,8,["sort-text"]),a(e(g),{"sort-text":e(t),options:w,onSelect:W},null,8,["sort-text"]),a(e(g),{"sort-text":e(x),options:s,onSelect:Y},null,8,["sort-text"])]),a(e($e),{modelValue:e(d),"onUpdate:modelValue":[M[0]||(M[0]=N=>ae(d)?d.value=N:null),Z]},null,8,["modelValue"]),V(a(e(ge),{modelValue:y.value,"onUpdate:modelValue":M[1]||(M[1]=N=>y.value=N),required:!1,class:"k-input",placeholder:"英雄/字母","no-special":!1,onInput:e(ee)},null,8,["modelValue","onInput"]),[[e(U),{text:e(z).kb43,type:"INPUT"}]])]))}}),je=G(Oe,[["__scopeId","data-v-0f2778a5"]]),Je={class:"hero"},qe={class:"hero-main"},Qe=B({name:"Hero",__name:"index",setup(p){const r=F(),{scroll:i,show_list:c,finish:l,loading:x}=D(r),{playAudio:v}=Se(),{page_count:S}=xe(),{line_num:L}=He(9,[[2200,8],[1800,7],[1600,6],[1400,5],[1024,4],[720,3],[480,2]]),f=b(),t=b(),n=b(!1),d=b(!1);r.getHeroList();const u=O(s=>{r.setScroll(s),d.value=s>250},250),C=()=>{v("n4r4")},$=s=>{Le(s)},w=()=>{var s;(s=t.value)==null||s._setPosition(0,!0)},H=()=>{var s;u(0),(s=f.value)==null||s._clearName()};return ne(async()=>{await ke(250),n.value=!0}),re(()=>{var s;v("iv51"),(s=t.value)==null||s._setPosition(i.value)}),(s,y)=>(_(),T("div",Je,[h("div",qe,[a(ie,{name:"to-bottom",appear:""},{default:I(()=>[a(je,{ref_key:"heroToolbarRef",ref:f,onChange:y[0]||(y[0]=k=>e(u)(0))},null,512)]),_:1}),a(e(we),{active:d.value,onBackTop:w},null,8,["active"]),e(c).length&&n.value?(_(),A(e(Ve),{key:0,ref_key:"heroListRef",ref:t,finish:e(l),loading:e(x),gap:"1rem",count:e(L),onScroll:e(u),onLoadMore:e(r).loadMore},{default:I(()=>[a(le,{name:"card",appear:""},{default:I(()=>[(_(!0),T(ce,null,de(e(c),(k,E)=>(_(),T("div",{key:E,style:pe({"transition-delay":E%e(S)*.025+"s"}),onMouseenter:C,onTouchstart:C},[a(De,{data:k,onView:$},null,8,["data"])],36))),128))]),_:1})]),_:1},8,["finish","loading","count","onScroll","onLoadMore"])):P("",!0),e(c).length===0?(_(),A(e(be),{key:1,tip:"你还没有拥有英雄"})):P("",!0)]),a(e(Me),{type:"hero",onChange:H})]))}}),dt=G(Qe,[["__scopeId","data-v-23489bda"]]);export{dt as default};
